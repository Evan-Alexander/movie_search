(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),i=a.n(c),o=(a(53),a(111)),l=a(110),s=a(4),u=a(5),m=a(7),p=a(6),d=a(8),h=function(e){var t=e.goBack,a=e.showMore;return r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"load-more-btn left",onClick:function(){return t()}},r.a.createElement("span",{"aria-hidden":"true"},"\xab")),r.a.createElement("button",{className:"load-more-btn right",onClick:function(){return a()}},r.a.createElement("span",{"aria-hidden":"true"},"\xbb")))},v=function(e){var t=e.searchChange;return r.a.createElement("div",{className:"col-md-3 d-flex justify-content-center align-items-center"},r.a.createElement("input",{"aria-label":"Search Movies",className:"searchbox",type:"search",placeholder:"Search movies",onChange:t}),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-3"},r.a.createElement("circle",{cx:"10.5",cy:"10.5",r:"7.5"}),r.a.createElement("line",{x1:"21",y1:"21",x2:"15.8",y2:"15.8"})))},f=a(108),g=a(10),b=a(18),E=a.n(b),y="get_movies_by_search_options",O="get_movies_by_search_term",j="get_movie_by_id",w="clear_movie",N="https://api.themoviedb.org/3";var k=[{id:1,name:"popular"},{id:2,name:"top_rated"},{id:3,name:"upcoming"}],_=function(e){return e.replace("_"," ").replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={currentSearch:""},a.handleToggle=function(e){a.setState({currentSearch:e.name},function(){a.props.handleFilters(e)})},a.renderOtptions=function(){return a.props.searches.map(function(e,t){return r.a.createElement("span",{className:"search-options",key:t,onClick:function(){return a.handleToggle(e)}},_(e.name))})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("h4",{className:"search-option-header"},"Search By: "),this.renderOtptions())}}]),t}(n.Component),C=Object(g.b)(function(e){return{movies:e.movieData}})(S),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleFilters=function(e){a.loadMovies(e.name,1)},a.renderMovies=function(){return a.state.movies.length?a.state.movies.map(function(e,t){return e.id&&e.poster_path?r.a.createElement("div",{className:"col-md-3 col-sm-6 movie-posters",key:t},r.a.createElement(f.a,{to:"/movie/".concat(e.id)},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300"+e.poster_path,alt:"thing"}))):null}):null},a.onSearchChange=function(e){var t=e.target.value;a.props.dispatch(function(e){var t="".concat(N,"/search/movie?api_key=").concat("d829137bb17cce3541db21a3b6a2cba1","&language=en-US&query=").concat(e,"&page=1&include_adult=false"),a=E.a.get(t).then(function(e){return e.data});return{type:O,payload:a}}(t)).then(function(e){e.payload&&a.setState({movies:e.payload.results,currentPage:1})})},a.showMore=function(e){var t=a.state.currentPage+1;a.setState({currentPage:t},function(){a.loadMovies(a.state.currentSearch,a.state.currentPage)})},a.goBack=function(e){if(a.state.currentPage<=1)return null;var t=a.state.currentPage-1;a.setState({currentPage:t},function(){a.loadMovies(a.state.currentSearch,a.state.currentPage)})},a.state={currentSearch:"",currentPage:0,movies:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;""===this.state.currentSearch&&0===this.state.currentPage&&this.setState({currentSearch:"popular",currentPage:1},function(){e.loadMovies(e.state.currentSearch,e.state.currentPage)})}},{key:"loadMovies",value:function(e,t){var a=this;this.props.dispatch(function(e,t){var a="".concat(N,"/movie/").concat(e,"?api_key=").concat("d829137bb17cce3541db21a3b6a2cba1","&language=en-US&page=").concat(t),n=E.a.get(a).then(function(e){return e.data});return{type:y,payload:n}}(e,t)).then(function(n){n.payload&&a.setState({currentSearch:e,currentPage:t,movies:n.payload.results})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9 d-flex justify-content-right align-items-center"},r.a.createElement("h1",null,"Movie Database ")," "),r.a.createElement(v,{searchChange:this.onSearchChange})),r.a.createElement(C,{searches:k,handleFilters:function(t){return e.handleFilters(t)}}),r.a.createElement("div",{className:"row"},this.renderMovies()),r.a.createElement(h,{goBack:this.goBack,showMore:this.showMore}))}}]),t}(n.Component),x=Object(g.b)(function(e){return{movies:e.movieData}})(M),D=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"blog-header py-3"},r.a.createElement("div",{className:"row flex-nowrap justify-content-between align-items-center"},r.a.createElement("div",{className:"col-3 pt-1"}),r.a.createElement("div",{className:"col-3 text-center"})))}}]),t}(n.Component),P=function(){return r.a.createElement("div",null,"footer!")},T=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement("div",{className:"container"},this.props.children),r.a.createElement(P,null))}}]),t}(n.Component),R=a(13),B=a(40),U=a.n(B),F=a(41),L=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleOpenModal=function(){e.setState({showModal:!0})},e.handleCloseModal=function(){e.setState({showModal:!1})},e.state={showModal:!1,vidoeKey:""},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.movie.videos.results,t=[];return e.length&&e.map(function(e,a){if("Trailer"===e.type&&"YouTube"===e.site){var n=e.name.indexOf("Official"),r=e.name.indexOf("Trailer"),c=e.type.indexOf("Trailer");-1!==n||-1!==r?t.push(e.key):(-1===n||-1===r&&-1!==c)&&t.push(e.key)}return t}),this.setState({videoKey:t[0]}),t[0]}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-3 reset-padding play-trailer movie-info"},r.a.createElement("h5",null,"Play Trailer"),r.a.createElement("button",{className:"play-trailer-btn",onClick:this.handleOpenModal},r.a.createElement("i",{className:"fab fa-youtube"})),r.a.createElement(U.a,{ariaHideApp:!1,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"modal-video-movie-wrap",overlayClassName:"Overlay"},r.a.createElement(F.a,{videoId:this.state.videoKey,opts:{height:"390",width:"640",playerVars:{autoplay:1}},onReady:this.handlePause}),r.a.createElement("button",{className:"modal-video-close-btn",onClick:this.handleCloseModal})))}}]),t}(n.Component),I=Object(g.b)(function(e){return{movie:e.movies.movie}})(L),q=function(e){function t(e){var a;Object(s.a)(this,t);var n=(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).props,r=n.radius,c=n.stroke;return a.normalizedRadius=r-2*c,a.circumference=2*a.normalizedRadius*Math.PI,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getStrokeColor",value:function(){return this.props.progress>=85?"#298e23":this.props.progress>=75?"#7bbc12":this.props.progress>=50?"#f1f446":this.props.progress<=50?"#ff0000":void 0}},{key:"render",value:function(){var e=this.props,t=e.radius,a=e.stroke,n=e.progress,c=this.circumference-n/100*this.circumference;return r.a.createElement("div",null,r.a.createElement("svg",{height:2*t,width:2*t},r.a.createElement("circle",{stroke:this.getStrokeColor(),fill:"transparent",strokeWidth:a,strokeDasharray:this.circumference+" "+this.circumference,style:{strokeDashoffset:c},r:this.normalizedRadius,cx:t,cy:t})))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={progress:0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t=10*e.props.movie.vote_average;e.setState({progress:t})},400)}},{key:"render",value:function(){var e=this.props.movie;return r.a.createElement("div",{className:"rating-container"},r.a.createElement(q,{radius:60,stroke:6,progress:this.state.progress}),r.a.createElement("div",{className:"rating-icon"},r.a.createElement("i",{className:"far fa-star"})),r.a.createElement("div",{className:"rating-text"},r.a.createElement("p",null,"User Rating")),r.a.createElement("div",{id:"rating-score"},e.vote_average))}}]),t}(n.Component),X=Object(g.b)(function(e){return{movie:e.movies.movie}})(W),z=a(19),A=a.n(z),K=function(e){var t=e.movie,a="https://image.tmdb.org/t/p/w300",n=[],c=t.credits.crew.filter(function(e){return"Director"===e.job}),i=t.credits.crew.filter(function(e){return"Writing"===e.department}),o=c.concat(i).filter(function(e){return null!==e.profile_path}).map(function(e,t){return{id:e.id,name:e.name,job:e.job,profile_path:e.profile_path}}),l=A.a.groupBy(o,function(e){return e.id}),s=A.a.map(l,function(e){var t=e[0].id,a=e[0].name,n=e[0].profile_path;return{id:t,name:a,job:A.a.chain(e).map(function(e){return e.job}).flatten().uniq().value(),profile_path:n}}),u=s.map(function(e){return e.job.includes("Director")?r.a.createElement("div",{className:"crew-col profile-outter",key:e.id},r.a.createElement("p",{className:"crew-label"},e.job.includes("Screenplay")?"Director Screenplay":"Director"),r.a.createElement("img",{className:"profile-pic img-fluid crew-img",src:a+e.profile_path,alt:""}),r.a.createElement("span",{className:"cast-name"},e.name)):null}),m=s.map(function(e){return e.job.includes("Director")?null:r.a.createElement("div",{className:"crew-col profile-outter",key:e.id},r.a.createElement("p",{className:"crew-label"},e.job.includes("Screenplay")?"Screenplay":"Story"),r.a.createElement("img",{className:"profile-pic img-fluid crew-img",src:a+e.profile_path,alt:""}),r.a.createElement("span",{className:"cast-name"},e.name))});t.credits.cast&&t.credits.cast.map(function(e,t){return e.order<=4&&n.push({name:e.name,profile_path:e.profile_path}),n});var p=n.filter(function(e){return null!==e.profile_path});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row detail-title-container"},r.a.createElement("div",{className:"col"},r.a.createElement("h1",null,t.title,r.a.createElement("span",{className:"release-date"},"(".concat(t.release_date.split("-")[0],")"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 movie-detail-poster align-center-sm"},t.poster_path?r.a.createElement("img",{src:a+t.poster_path,alt:"thing"}):null),r.a.createElement("div",{className:"col-md-8 align-center-sm"},r.a.createElement("h4",null,"Overview"),r.a.createElement("p",null,t.overview),r.a.createElement("div",{className:"row padding-b"},r.a.createElement(X,{movie:t}),r.a.createElement("div",{className:"col reset-padding movie-info"},r.a.createElement("h5",null,"Runtime "),r.a.createElement("p",null,t.runtime," min")),r.a.createElement("div",{className:"col reset-padding movie-info"},r.a.createElement("h5",null,"Total Revenue"),0===t.revenue?r.a.createElement("p",null,"Unavailable"):r.a.createElement("p",null,"$",t.revenue.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),r.a.createElement(I,null)),r.a.createElement("div",{className:"container"},r.a.createElement("h5",null,"Crew"),r.a.createElement("div",{className:"row align-items-center padding-b"},u,m)),r.a.createElement("div",{className:"container"},r.a.createElement("h5",null,"Starring"),r.a.createElement("div",{className:"row align-items-center"},p?p.map(function(e,t){return r.a.createElement("div",{className:"col profile-outter cast-outter",key:t},r.a.createElement("img",{className:"profile-pic img-fluid",src:a+e.profile_path,alt:e.name}),r.a.createElement("p",{className:"crew-label"},e.name))}):null)))))},V=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.props.dispatch(function(e){var t="".concat(N,"/movie/").concat(e,"?api_key=").concat("d829137bb17cce3541db21a3b6a2cba1","&language=en-US&append_to_response=credits,videos"),a=E.a.get(t).then(function(e){return e.data});return{type:j,payload:a}}(t)).then(function(t){e.props.movie||e.props.history.push("/")})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:w,payload:""})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{to:"/",className:"go-back"},r.a.createElement("i",{className:"fas fa-arrow-left"})),this.props.movie?r.a.createElement(K,{movie:Object(R.a)({},this.props.movie)}):null)}}]),t}(n.Component),J=Object(g.b)(function(e){return{movie:e.movies.movie,movies:e.movies.movieData}})(V),H=function(){return r.a.createElement(T,null,r.a.createElement(o.a,null,r.a.createElement(l.a,{path:"/movie/:id",exact:!0,component:J}),r.a.createElement(l.a,{path:"/",exact:!0,component:x})))},Y=a(109),$=a(12),G=a(45),Q=a.n(G),Z=a(46),ee=Object($.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case O:return Object(R.a)({},e,{movieData:t.payload});case j:case w:return Object(R.a)({},e,{movie:t.payload});default:return e}}}),te=Object($.a)(Q.a,Z.a)($.d);i.a.render(r.a.createElement(g.a,{store:te(ee,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(Y.a,null,r.a.createElement(H,null))),document.getElementById("root"))},48:function(e,t,a){e.exports=a(107)},53:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.cb346069.chunk.js.map